# Web Applications & Burp Suite

By: Foster McLane, Nick Bulischeck, Weston Belk

CU Cyber


## You Can Find These Presentations Online

Visit [cucyber.net](https://cucyber.net/) to find these presentations and more online!

<span style="padding-top: 6em; font-size: 0.4em; float: left;">Material: <a href="https://tldrlegal.com/license/creative-commons-attribution-sharealike-4.0-international-(cc-by-sa-4.0)">Creative Commons Attribution-ShareAlike 4.0</a></span><span style="padding-top: 6em; font-size: 0.4em; float: right;">Code: <a href="https://tldrlegal.com/license/bsd-2-clause-license-(freebsd)">BSD 2-Clause</a></span>



## World Wide Web


### How does it work?

The world wide web started with the idea of the exchange of hypertext, text that includes links to other text. Sir Tim Berners-Lee is credited with creating the fundamental ideas, protocols, and formats used by the web today, namely URLs, HTTP, and HTML.


These days we have new acronyms for new things that have been added and grown over time by the W3 Consortium and others to make the web more exciting, such as CSS, JS, SVG, TLS, CGI, SOAP, XML, etc.


We'll start with those initial three technologies to get a core idea of how the web communicates.


### URLs
#### Uniform Resource Locators

![url format](url.png)

Note:
Taken from https://en.wikipedia.org/wiki/Uniform\_Resource\_Identifier#Examples


### HTTP
#### Hypertext Transfer Protocol

* Client-Server Architecture (as opposed to Peer to Peer)
* Request-Response Protocol (e.g. client sends a single request to receive a single response from the server)
* Method-Resource (e.g. `GET /resource`)
* Plain-Text Protocol (though it can serve binary data)

Note:
What are some other plain-text protocols?


#### Example

##### Request

```txt
GET /about.html HTTP/1.1                       <-- Request Line
Host: cucyber.net                              <-- Header(s)

```


##### Response

```txt
HTTP/1.1 200 OK                                <-- Status Line
Date: Thu, 01 Sep 2019 13:37:00 GMT            ┐
Content-Type: text/html; charset=utf-8         │
Content-Length: 8258                           │
Connection: keep-alive                         ├- Headers
Last-Modified: Sun, 01 Sep 2019 01:25:17 GMT   │
Expires: Thu, 01 Sep 2019 13:37:00 GMT         │
Server: cloudflare                             ┘

<!DOCTYPE html>                                ┐
<html>                                         ├- Body
...                                            │
```

Note:
There are many status codes to designate various HTTP states or responses.


#### Status Codes

* 1XX - Informational
* 2XX - Successful
* 3XX - Redirection
* 4XX - Client Error
* 5XX - Server Error

Note:
The 200 on the previous slide indicates the request was completed successfully with no special conditions.


#### Methods

* GET - Retrieve resource
* HEAD - Retrieve resource but only return headers
* POST - Send data to server
* PUT - Replace resource with given data
* DELETE - Deletes resource

Note:
* PATCH - Perform a list of operations on a resource
* OPTIONS - List available methods for a resource
* TRACE - Request sent data be echoed back (can test for changes made before arriving at the destination server)


#### Sample POST

```txt
POST /login HTTP/1.1
Host: hackme.vm.cucyber.net
Content-Length: 40
Content-Type: application/x-www-form-urlencoded

username=cucyber&password=uber1337haxx0r
```


### HTML
#### Hypertext Markup Language

* Markup Format
* Based on SGML (on which XML is also based)
* Tag-Attribute-Value (mostly)


#### Example

```html
<!DOCTYPE html>
<html>
  <head>
    <title>Document Title</title>
  </head>
  <body>
    <p>
      Check out my cool website
      <a href="https://cucyber.net/">here</a>!
    </p>
  </body>
</html>
```

Note:
The `head` tag generally contains metadata and the `body` tag contains the content rendered to the screen.


### Clients

* Chrome (Chromium)
* Firefox
* Edge
* Safari
* Internet Explorer
* Plenty of derivatives (Opera, newer Edge builds soon to be released, Brave, etc.)


* curl
* wget


### Servers

* Apache httpd
* nginx
* ~~fooster-web~~
* Many others



## Burp Suite


### What is Burp Suite?

* A graphical tool for testing web application security
* Cross-platform (written in Java)
* Developed by PortSwigger
* [https://portswigger.net/burp](https://portswigger.net/burp)


### What can it do?

* HTTP Proxy - Inspect, modify, and proxy requests
* Intruder - Automate web application attacks from a payload list
* Repeater - Send raw requests and observe the response
* Decoder - Decode and encode data (Base64, URL, etc.)
* Spider - Crawl a website for pages and files
* Scanner - Scan for common web application vulnerabilities
* And more!


### How can this help me?


#### HTTP Proxy

* Inspect and modify HTTP requests (such as GET or POST requests) through a Man-In-The-Middle attack
* Enable Intercept to do modifications


##### GET Request

```txt
GET /admin HTTP/1.1
Host: supersecret.vm.cucyber.net
Cookie: session=abc; username=cucyber; role=member

```

```txt
HTTP/1.1 403 Forbidden
Content-Length: 12
Connection: close

Not allowed.
```


##### GET Request

```txt
GET /admin HTTP/1.1
Host: supersecret.vm.cucyber.net
Cookie: session=abc; username=cucyber; role=admin

```

```txt
HTTP/1.1 200 OK
Content-Length: 60
Connection: close

Here's your treasure: flag{fb8d98be1265dd88bac522e1b2182140}
```

(Note role has been changed to `admin`.)


#### Decoder

* Get the plain-text from encoded text without going to random web tools that come up when Google searching the encoding


#### Spider

* Enumerate pages available on a website -- can sometimes find interesting or possibly hidden files and folders



# Demo

Note:
* https://google-gruyere.appspot.com/
* https://portswigger.net/web-security/file-path-traversal/lab-simple
* https://portswigger.net/web-security/sql-injection/lab-retrieve-hidden-data
* https://portswigger.net/web-security/sql-injection/lab-login-bypass



# Questions?

https://portswigger.net/web-security is a great resource for learning!
